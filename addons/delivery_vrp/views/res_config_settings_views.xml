<odoo>  
    <record id="res_config_settings_view_form_vrp" model="ir.ui.view">  
        <field name="name">res.config.settings.view.form.inherit.vrp</field>  
        <field name="model">res.config.settings</field>  
        <field name="inherit_id" ref="base.res_config_settings_view_form"/>  
        <field name="arch" type="xml">  
            <xpath expr="//form" position="inside">  
                <div class="app_settings_block" data-string="VRP - Vehicle Routing" string="VRP - Vehicle Routing" data-key="vrp">  
                      
                    <h2>Configuration du Routage</h2>  
                      
                    <div class="row mt16 o_settings_container">  
                        <div class="col-12 col-lg-6 o_setting_box">  
                            <div class="o_setting_left_pane">  
                                <field name="vrp_routing_service" widget="radio"/>  
                            </div>  
                            <div class="o_setting_right_pane">  
                                <label for="vrp_routing_service"/>  
                                <div class="text-muted">  
                                    Service utilis√© pour calculer les distances routi√®res r√©elles  
                                </div>  
                                <div class="mt8">  
                                    <button name="action_test_routing_service"   
                                            type="object"   
                                            string="Tester la Connexion"   
                                            class="btn-secondary"/>  
                                </div>  
                            </div>  
                        </div>  
                    </div>  
  
                    <div class="row mt16 o_settings_container">  
                        <div class="col-12 col-lg-6 o_setting_box"   
                             invisible="vrp_routing_service != 'openrouteservice'">  
                            <div class="o_setting_left_pane">  
                                <field name="vrp_openrouteservice_key"/>  
                            </div>  
                            <div class="o_setting_right_pane">  
                                <label for="vrp_openrouteservice_key"/>  
                                <div class="text-muted">  
                                    Cl√© API gratuite d'OpenRouteService (2000 requ√™tes/jour)  
                                    <br/>  
                                    <a href="https://openrouteservice.org/dev/#/signup" target="_blank">  
                                        ‚Üí Cr√©er un compte gratuit  
                                    </a>  
                                </div>  
                            </div>  
                        </div>  
  
                        <div class="col-12 col-lg-6 o_setting_box"   
                             invisible="vrp_routing_service != 'graphhopper'">  
                            <div class="o_setting_left_pane">  
                                <field name="vrp_graphhopper_key"/>  
                            </div>  
                            <div class="o_setting_right_pane">  
                                <label for="vrp_graphhopper_key"/>  
                                <div class="text-muted">  
                                    Cl√© API GraphHopper (optionnelle)  
                                    <br/>  
                                    <a href="https://www.graphhopper.com/dashboard/#/register" target="_blank">  
                                        ‚Üí Cr√©er un compte gratuit  
                                    </a>  
                                </div>  
                            </div>  
                        </div>  
                    </div>  
  
                    <h2>Configuration du D√©p√¥t</h2>  
                      
                    <div class="row mt16 o_settings_container">  
                        <div class="col-12 col-lg-6 o_setting_box">  
                            <div class="o_setting_left_pane">  
                                <field name="vrp_depot_latitude" digits="[10,6]"/>  
                            </div>  
                            <div class="o_setting_right_pane">  
                                <label for="vrp_depot_latitude"/>  
                                <div class="text-muted">  
                                    Coordonn√©e latitude du point de d√©part des livraisons  
                                </div>  
                            </div>  
                        </div>  
  
                        <div class="col-12 col-lg-6 o_setting_box">  
                            <div class="o_setting_left_pane">  
                                <field name="vrp_depot_longitude" digits="[10,6]"/>  
                            </div>  
                            <div class="o_setting_right_pane">  
                                <label for="vrp_depot_longitude"/>  
                                <div class="text-muted">  
                                    Coordonn√©e longitude du point de d√©part des livraisons  
                                </div>  
                            </div>  
                        </div>  
                    </div>  
  
                    <div class="row mt16 o_settings_container">  
                        <div class="col-12">  
                            <div class="alert alert-info">  
                                <strong>üí° Conseil :</strong> Vous pouvez obtenir les coordonn√©es de votre d√©p√¥t en utilisant   
                                <a href="https://www.google.com/maps" target="_blank">Google Maps</a>   
                                (clic droit ‚Üí coordonn√©es) ou directement depuis votre interface VRP.  
                            </div>  
                        </div>  
                    </div>  
  
                    <h2>Contraintes d'Optimisation</h2>  
                      
                    <div class="row mt16 o_settings_container">  
                        <div class="col-12 col-lg-6 o_setting_box">  
                            <div class="o_setting_left_pane">  
                                <field name="vrp_max_route_distance"/>  
                            </div>  
                            <div class="o_setting_right_pane">  
                                <label for="vrp_max_route_distance"/>  
                                <div class="text-muted">  
                                    Distance maximale qu'un v√©hicule peut parcourir (en kilom√®tres)  
                                </div>  
                            </div>  
                        </div>  
  
                        <div class="col-12 col-lg-6 o_setting_box">  
                            <div class="o_setting_left_pane">  
                                <field name="vrp_max_stops_per_route"/>  
                            </div>  
                            <div class="o_setting_right_pane">  
                                <label for="vrp_max_stops_per_route"/>  
                                <div class="text-muted">  
                                    Nombre maximum d'arr√™ts/clients par v√©hicule  
                                </div>  
                            </div>  
                        </div>  
                    </div>  
  
                    <div class="row mt16 o_settings_container">  
                        <div class="col-12">  
                            <div class="alert alert-warning">  
                                <h4><i class="fa fa-info-circle"/> Services de Routage Compar√©s</h4>  
                                <table class="table table-sm">  
                                    <thead>  
                                        <tr>  
                                            <th>Service</th>  
                                            <th>Gratuit</th>  
                                            <th>Limite</th>  
                                            <th>Pr√©cision</th>  
                                            <th>Recommandation</th>  
                                        </tr>  
                                    </thead>  
                                    <tbody>  
                                        <tr class="table-success">  
                                            <td><strong>OSRM</strong></td>  
                                            <td><span class="badge badge-success">Oui</span></td>  
                                            <td>Illimit√©</td>  
                                            <td>‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</td>  
                                            <td><strong>Recommand√© pour production</strong></td>  
                                        </tr>  
                                        <tr>  
                                            <td><strong>OpenRouteService</strong></td>  
                                            <td><span class="badge badge-success">Oui</span></td>  
                                            <td>2000 req/jour</td>  
                                            <td>‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</td>  
                                            <td>Bon pour PME</td>  
                                        </tr>  
                                        <tr>  
                                            <td><strong>GraphHopper</strong></td>  
                                            <td><span class="badge badge-warning">Limit√©</span></td>  
                                            <td>2500 req/mois</td>  
                                            <td>‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</td>  
                                            <td>Backup option</td>  
                                        </tr>  
                                    </tbody>  
                                </table>  
                            </div>  
                        </div>  
                    </div>  
  
                </div>  
            </xpath>  
        </field>  
    </record>  
  
    <!-- Menu item for VRP settings -->  
    <record id="vrp_config_settings_action" model="ir.actions.act_window">  
        <field name="name">VRP Settings</field>  
        <field name="type">ir.actions.act_window</field>  
        <field name="res_model">res.config.settings</field>  
        <field name="view_mode">form</field>  
        <field name="target">inline</field>  
        <field name="context">{'module': 'vrp'}</field>  
    </record>  
  
    <menuitem id="vrp_config_menu"   
              name="VRP Configuration"   
              parent="fleet.fleet_configuration"  
              action="vrp_config_settings_action"  
              sequence="10"/>  
  
</odoo>